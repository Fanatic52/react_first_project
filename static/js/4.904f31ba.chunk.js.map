{"version":3,"sources":["components/Messages/Messages.module.css","components/Messages/MessageItem/MessageItem.module.css","components/Messages/MessageItem/MessageItem.jsx","components/Messages/Message/Message.jsx","components/Messages/MessagesForms.jsx","components/Messages/Messages.jsx","components/Messages/MessagesContainer.jsx","hoc/WithAuthRedirect.js"],"names":["module","exports","MessageItem","props","path","id","className","style","dialogItem","activeClassName","active","to","name","Message","dialog","message","maxLength50","maxLengthCreator","AddMessageForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","required","placeholder","Messages","state","messagePage","dialogsJSX","dialogs","map","messageJSX","messages","dialogsItems","values","addMessage","newMessageText","compose","Component","RedirectComponent","this","isAuth","React","connect","auth","dispatch","text","addMessageCreator"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,QAAU,0BAA0B,aAAe,+BAA+B,OAAS,yBAAyB,OAAS,yBAAyB,SAAW,2BAA2B,QAAU,4B,oBCAxND,EAAOC,QAAU,CAAC,QAAU,6BAA6B,WAAa,gCAAgC,OAAS,4BAA4B,OAAS,8B,wHCYrIC,EATK,SAACC,GACjB,IAAIC,EAAO,YAAcD,EAAME,GAC/B,OACI,qBAAKC,UAAWC,IAAMC,WAAtB,SACI,cAAC,IAAD,CAASC,gBAAiBF,IAAMG,OAAQC,GAAIP,EAA5C,SAAmDD,EAAMS,UCEtDC,EARC,SAACV,GACb,OACI,qBAAKG,UAAWH,EAAMW,OAAtB,SACKX,EAAMY,W,kCCAbC,EAAcC,YAAiB,IAuBtBC,EAJQC,YAAU,CAC7BC,KAAM,0BADaD,EAjBK,SAAChB,GACzB,OACI,uBAAMkB,SAAUlB,EAAMmB,aAAtB,UACI,8BACI,cAACC,EAAA,EAAD,CACIC,UAAWC,IACXC,SAAU,CAACC,IAAUX,GACrBJ,KAAK,iBACLgB,YAAY,yBAEpB,8BACI,kDCcDC,EA1BE,SAAC1B,GAEd,IAAI2B,EAAQ3B,EAAM4B,YAEdC,EACAF,EAAMG,QAAQC,KAAI,SAAApB,GAAM,OAAI,cAAC,EAAD,CAAaT,GAAIS,EAAOT,GAAIO,KAAME,EAAOF,MAAWE,EAAOT,OACvF8B,EACAL,EAAMM,SAASF,KAAI,SAAAnB,GAAO,OAAI,cAAC,EAAD,CAASA,QAASA,EAAQA,SAAcA,EAAQV,OAMlF,OACI,sBAAKC,UAAWC,IAAM0B,QAAtB,UACI,qBAAK3B,UAAWC,IAAM8B,aAAtB,SACKL,IAEL,qBAAK1B,UAAWC,IAAM6B,SAAtB,SACKD,IAEL,cAAC,EAAD,CAAgBd,SAZJ,SAACiB,GACjBnC,EAAMoC,WAAWD,EAAOE,uB,8DCIjBC,uBChBiB,SAACC,GAAe,IAEtCC,EAFqC,4JAGvC,WACI,OAAIC,KAAKzC,MAAM0C,OAGR,cAACH,EAAD,eAAeE,KAAKzC,QAFhB,cAAC,IAAD,CAAUQ,GAAG,eALW,GAEXmC,IAAMJ,WAatC,OAAOK,aAJ0B,SAACjB,GAAD,MAAY,CACzCe,OAAQf,EAAMkB,KAAKH,UAGhBE,CAAoCJ,KDG3CI,aAfkB,SAACjB,GACnB,MAAO,CACHC,YAAaD,EAAMC,gBAGF,SAACkB,GACtB,MAAO,CACHV,WAAY,SAACW,GACTD,EAASE,YAAkBD,SAKxBT,CAGbZ","file":"static/js/4.904f31ba.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Messages_dialogs__3NbX4\",\"dialogsItems\":\"Messages_dialogsItems__2MeyP\",\"active\":\"Messages_active__qjcwa\",\"dialog\":\"Messages_dialog__3PDdP\",\"messages\":\"Messages_messages__1Gjqx\",\"message\":\"Messages_message__3F0yQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"MessageItem_dialogs__14UN_\",\"dialogItem\":\"MessageItem_dialogItem__38q3g\",\"active\":\"MessageItem_active__3ytdR\",\"dialog\":\"MessageItem_dialog__Sm1zK\"};","import React from \"react\";\r\nimport style from \"./MessageItem.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst MessageItem = (props) => {\r\n    let path = \"/dialogs/\" + props.id;\r\n    return (\r\n        <div className={style.dialogItem}>\r\n            <NavLink activeClassName={style.active} to={path}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessageItem","import React from \"react\";\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={props.dialog}>\r\n            {props.message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Message","import {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormsControls/FormsControls\";\r\nimport React from \"react\";\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\nconst AddMessageComponent = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field\r\n                    component={Textarea}\r\n                    validate={[required, maxLength50]}\r\n                    name=\"newMessageText\"\r\n                    placeholder=\"Enter your message\"/>\r\n            </div>\r\n            <div>\r\n                <button>Send</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddMessageForm = reduxForm({\r\n    form: \"messagesAddMessageForm\"\r\n})(AddMessageComponent);\r\n\r\nexport default AddMessageForm;","import React from \"react\";\r\nimport style from \"./Messages.module.css\";\r\nimport MessageItem from \"./MessageItem/MessageItem\";\r\nimport Message from \"./Message/Message\";\r\nimport AddMessageForm from \"./MessagesForms\";\r\n\r\nconst Messages = (props) => {\r\n\r\n    let state = props.messagePage;\r\n\r\n    let dialogsJSX =\r\n        state.dialogs.map(dialog => <MessageItem id={dialog.id} name={dialog.name} key={dialog.id}/>);\r\n    let messageJSX =\r\n        state.messages.map(message => <Message message={message.message} key={message.id}/>)\r\n\r\n    let addNewMessage = (values) => {\r\n        props.addMessage(values.newMessageText);\r\n    }\r\n\r\n    return (\r\n        <div className={style.dialogs}>\r\n            <div className={style.dialogsItems}>\r\n                {dialogsJSX}\r\n            </div>\r\n            <div className={style.messages}>\r\n                {messageJSX}\r\n            </div>\r\n            <AddMessageForm onSubmit={addNewMessage} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Messages;","import React from \"react\";\r\nimport {addMessageCreator} from \"../../redux/reducers/messages-reducer\";\r\nimport Messages from \"./Messages\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        messagePage: state.messagePage,\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addMessage: (text) => {\r\n            dispatch(addMessageCreator(text));\r\n        },\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n)(Messages);","import React, {Component} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) {\r\n                return <Redirect to='/login' />;\r\n            }\r\n            return <Component {...this.props} />;\r\n        }\r\n    }\r\n\r\n    let mapStateToPropsForRedirect = (state) => ({\r\n        isAuth: state.auth.isAuth,\r\n    });\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n}"],"sourceRoot":""}